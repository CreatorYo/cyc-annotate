<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - CYC Annotate</title>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="../../styles/window-controls.css">
  <link rel="stylesheet" href="../../styles/settings.css">
</head>

<body data-theme="dark">
  <div class="window-titlebar"
    style="-webkit-app-region: drag; position: fixed; top: 0; left: 0; right: 0; height: 32px; z-index: 9999;"></div>
  <div class="window-controls">
    <button id="window-minimize" class="window-control-btn" title="Minimize" tabindex="-1">
      <span class="material-symbols-outlined">remove</span>
    </button>
    <button id="window-maximize" class="window-control-btn" title="Maximize" tabindex="-1">
      <span class="material-symbols-outlined" id="maximize-icon">crop_square</span>
    </button>
    <button id="window-close" class="window-control-btn window-close-btn" title="Close" tabindex="-1">
      <span class="material-symbols-outlined">close</span>
    </button>
  </div>
  <div class="settings-container">
    <div class="settings-sidebar">
      <div class="sidebar-header">
        <h1>Settings</h1>
        <button id="sidebar-search-toggle" class="sidebar-search-toggle" title="Search settings">
          <span class="material-symbols-outlined">search</span>
        </button>
      </div>
      <div class="sidebar-search-container" style="display: none;">
        <div class="sidebar-search-wrapper">
          <input type="text" id="settings-search" class="sidebar-search-input" placeholder="Search settings">
          <button id="clear-search" class="sidebar-clear-search-btn" style="display: none;">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-pill"></div>
        <button class="nav-item active" data-category="appearance">
          <span class="material-symbols-outlined">palette</span>
          <span>Appearance</span>
        </button>
        <button class="nav-item" data-category="toolbar">
          <span class="material-symbols-outlined">view_compact</span>
          <span>Toolbar</span>
        </button>
        <button class="nav-item" data-category="shortcuts">
          <span class="material-symbols-outlined">keyboard</span>
          <span>Shortcuts</span>
        </button>
        <button class="nav-item" data-category="behavior">
          <span class="material-symbols-outlined">tune</span>
          <span>Behavior</span>
        </button>
        <button class="nav-item" data-category="system">
          <span class="material-symbols-outlined">settings</span>
          <span>System</span>
        </button>
        <button class="nav-item" data-category="labs">
          <span class="material-symbols-outlined">science</span>
          <span>Labs</span>
        </button>
        <button class="nav-item" data-category="reset">
          <span class="material-symbols-outlined">restart_alt</span>
          <span>Reset</span>
        </button>
        <button class="nav-item" data-category="about">
          <span class="material-symbols-outlined">info</span>
          <span>About</span>
        </button>
      </nav>
    </div>

    <div class="settings-main">
      <div class="settings-content">
        <div class="settings-header">
          <div class="header-content">
            <h2 id="category-title">Appearance</h2>
            <p class="settings-subtitle" id="category-subtitle">Customise the app's look and feel</p>
          </div>
        </div>

        <div class="header-divider"></div>

        <div id="directory-warning" class="directory-warning" style="display: none;">
          <span class="material-symbols-outlined">warning</span>
          <div class="warning-content">
            <div class="warning-title">Auto-Save Directory Not Found</div>
            <div class="warning-message">You have auto-snapshots enabled, but the directory no longer exists. Please
              update your save directory in settings.</div>
          </div>
          <button id="close-directory-warning" class="close-warning-btn" title="Close">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>

        <div class="settings-section" data-section="appearance" data-category="appearance">
          <div class="section-content">
            <div class="setting-item">
              <div class="setting-label-wrapper">
                <label>Theme</label>
                <span class="setting-description">Choose your preferred colour scheme</span>
              </div>
              <div class="dropdown-menu" id="theme-dropdown">
                <button class="dropdown-menu-trigger" id="theme-dropdown-trigger">
                  <div class="trigger-content">
                    <span class="material-symbols-outlined" id="current-theme-icon">light_mode</span>
                    <span id="current-theme-text">Light</span>
                  </div>
                  <span class="material-symbols-outlined arrow">expand_more</span>
                </button>
                <div class="dropdown-menu-menu">
                  <div class="dropdown-menu-item" data-value="light">
                    <span class="material-symbols-outlined">light_mode</span>
                    <span>Light</span>
                  </div>
                  <div class="dropdown-menu-item" data-value="dark">
                    <span class="material-symbols-outlined">dark_mode</span>
                    <span>Dark</span>
                  </div>
                  <div class="dropdown-menu-item" data-value="system">
                    <span class="material-symbols-outlined">desktop_windows</span>
                    <span>System</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="accent colour customise theme">
              <div class="setting-label-wrapper">
                <label>Accent Colour <span id="sync-info-icon" class="info-icon" style="display: none;"
                    data-tooltip="This setting is currently synced with your Windows accent colour. Disable sync to change it manually."><span
                      class="material-symbols-outlined">info</span></span></label>
                <span class="setting-description">Customise the accent colour used throughout the app</span>
              </div>
              <div class="accent-color-wrapper">
                <button id="accent-color-preview" class="accent-color-preview"
                  title="Click to open colour picker"></button>
                <input type="color" id="accent-color-picker" class="accent-color-picker" value="#3bbbf6" tabindex="0">
                <div class="accent-color-hex-container">
                  <input type="text" id="accent-color-hex" class="accent-color-hex" placeholder="#3bbbf6" maxlength="7"
                    tabindex="0">
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-section" data-section="toolbar" data-category="toolbar">
          <div class="section-content">
            <h3 class="setting-subsection-title">Layout & Position</h3>
            <div class="setting-item" data-keywords="layout toolbar orientation vertical horizontal">
              <div class="setting-label-wrapper">
                <label>Layout</label>
                <span class="setting-description">Choose toolbar orientation</span>
              </div>
              <div class="dropdown-menu" id="layout-dropdown">
                <button class="dropdown-menu-trigger" id="layout-dropdown-trigger">
                  <div class="trigger-content">
                    <span class="material-symbols-outlined" id="current-layout-icon">view_column</span>
                    <span id="current-layout-text">Vertical</span>
                  </div>
                  <span class="material-symbols-outlined arrow">expand_more</span>
                </button>
                <div class="dropdown-menu-menu">
                  <div class="dropdown-menu-item" data-value="vertical">
                    <span class="material-symbols-outlined">view_column</span>
                    <span>Vertical</span>
                  </div>
                  <div class="dropdown-menu-item" data-value="horizontal">
                    <span class="material-symbols-outlined">view_week</span>
                    <span>Horizontal</span>
                  </div>
                </div>
              </div>
            </div>

            <div id="position-setting" class="setting-item" data-keywords="toolbar position placement">
              <div class="setting-label-wrapper">
                <label id="position-label">Vertical Position</label>
                <span id="position-description" class="setting-description">Choose which side to place the vertical
                  toolbar</span>
              </div>
              <div class="dropdown-menu" id="position-dropdown">
                <button class="dropdown-menu-trigger" id="position-dropdown-trigger">
                  <div class="trigger-content">
                    <span class="material-symbols-outlined" id="current-position-icon">align_horizontal_left</span>
                    <span id="current-position-text">Left</span>
                  </div>
                  <span class="material-symbols-outlined arrow">expand_more</span>
                </button>
                <div class="dropdown-menu-menu" id="position-dropdown-menu">
                  <!-- Dynamically populated -->
                </div>
              </div>
            </div>

            <h3 class="setting-subsection-title">Appearance</h3>
            <div class="setting-item" data-keywords="toolbar background accent color tint">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="toolbar-accent-bg-enabled">
                  <label>Use Accent Colour for Toolbar</label>
                  <span class="setting-description">Tint the toolbar background with your accent colour</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="toolbar-accent-bg-enabled">
                  <label for="toolbar-accent-bg-enabled" class="toggle-label"></label>
                </div>
              </div>
            </div>

            <h3 class="setting-subsection-title">Behavior</h3>
            <div class="setting-item" data-keywords="reduce clutter toolbar menu compact">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="reduce-clutter-enabled">
                  <label>Reduce Clutter</label>
                  <span class="setting-description">Move undo, redo, toggle visibility, and settings into a
                    submenu</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="reduce-clutter-enabled" checked>
                  <label for="reduce-clutter-enabled" class="toggle-label"></label>
                </div>
              </div>
              <div class="setting-sub-item" id="standby-in-toolbar-wrapper"
                data-keywords="standby pause toolbar reduce clutter visible">
                <div class="setting-row">
                  <div class="setting-label-wrapper" data-toggle-for="standby-in-toolbar">
                    <label>Show Standby in Toolbar <span class="info-icon"
                        data-tooltip="Standby mode pauses drawing and lets you click through to windows behind the overlay."><span
                          class="material-symbols-outlined">info</span></span></label>
                    <span class="setting-description">Keep standby directly on toolbar without moving it into
                      submenu</span>
                  </div>
                  <div class="toggle-switch">
                    <input type="checkbox" id="standby-in-toolbar">
                    <label for="standby-in-toolbar" class="toggle-label"></label>
                  </div>
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="toolbar move drag disable lock position">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="disable-toolbar-moving">
                  <label>Disable Toolbar Moving</label>
                  <span class="setting-description">Prevent the toolbar from being moved by dragging</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="disable-toolbar-moving" checked>
                  <label for="disable-toolbar-moving" class="toggle-label"></label>
                </div>
              </div>
            </div>

          </div>
        </div>

        <div class="settings-section" data-section="shortcuts" data-category="shortcuts">
          <div class="section-content">
            <div class="setting-item" data-keywords="shortcut keyboard toggle annotate tool hotkey">
              <div class="setting-label-wrapper">
                <label>Toggle Annotate Tool</label>
                <span class="setting-description">Keyboard shortcut to show/hide the annotation toolbar</span>
              </div>
              <div class="shortcut-input-wrapper">
                <input type="text" id="shortcut-input" class="shortcut-input" readonly placeholder="Click to set...">
                <button id="reset-shortcut" class="reset-btn" title="Reset to default">
                  <span class="material-symbols-outlined">refresh</span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-section" data-section="behavior" data-category="behavior">
          <div class="section-content">
            <h3 class="setting-subsection-title">Notifications & Feedback</h3>
            <div class="setting-item" data-keywords="sound effects audio play sounds">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="sounds-enabled">
                  <label>Sound Effects</label>
                  <span class="setting-description">Play sounds for actions like clear and open</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="sounds-enabled" checked>
                  <label for="sounds-enabled" class="toggle-label"></label>
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="screenshot notification alert capture">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="screenshot-notification">
                  <label>Screenshot Notification</label>
                  <span class="setting-description">Show a notification when a screenshot is taken</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="screenshot-notification" checked>
                  <label for="screenshot-notification" class="toggle-label"></label>
                </div>
              </div>
            </div>

            <h3 class="setting-subsection-title">Snapshots</h3>
            <div class="setting-item" data-keywords="copy snapshot clipboard clipboard copy">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="copy-snapshot-clipboard">
                  <label>Copy Snapshot to Clipboard</label>
                  <span class="setting-description">Copy snapshots to clipboard and skip the save dialog</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="copy-snapshot-clipboard">
                  <label for="copy-snapshot-clipboard" class="toggle-label"></label>
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="auto save snapshot screenshot directory folder location">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="auto-save-snapshots">
                  <label>Auto-Save Snapshots</label>
                  <span class="setting-description">Automatically save snapshots to a default location without
                    asking</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="auto-save-snapshots">
                  <label for="auto-save-snapshots" class="toggle-label"></label>
                </div>
              </div>
              <div id="save-directory-wrapper" class="save-directory-wrapper" style="display: none;">
                <div class="save-directory-content">
                  <span id="save-directory-path" class="save-directory-path">No directory selected</span>
                  <button id="select-save-directory-btn" class="select-directory-btn">
                    <span class="material-symbols-outlined">folder</span>
                    <span>Choose Folder</span>
                  </button>
                </div>
              </div>
            </div>

            <h3 class="setting-subsection-title">Text & Tools</h3>
            <div class="setting-item" data-keywords="text solve math expression calculate automatic">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="text-solve-enabled">
                  <label>Text and Solve</label>
                  <span class="setting-description">Automatically solve math expressions in text (e.g., 1+1 = 2)</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="text-solve-enabled">
                  <label for="text-solve-enabled" class="toggle-label"></label>
                </div>
              </div>
            </div>


          </div>
        </div>

        <div class="settings-section" data-section="system" data-category="system">
          <div class="section-content">
            <div class="setting-item" data-keywords="system tray icon notification area show hide">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="show-tray-icon">
                  <label>Show System Tray Icon</label>
                  <span class="setting-description">Display the app icon in the system tray</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="show-tray-icon" checked>
                  <label for="show-tray-icon" class="toggle-label"></label>
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="launch startup boot auto start background">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="launch-on-startup">
                  <label>Launch on Startup</label>
                  <span class="setting-description">Start in background when your computer boots, ready for your
                    shortcut</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="launch-on-startup">
                  <label for="launch-on-startup" class="toggle-label"></label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-section" data-section="labs" data-category="labs">
          <div class="section-content">
            <div class="labs-warning">
              <span class="material-symbols-outlined">science</span>
              <div class="labs-warning-content">
                <div class="labs-warning-title">Experimental Features</div>
                <div class="labs-warning-message">
                  These features are experimental and may be unstable or change in future updates. Use at your own risk.
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="performance optimisation rendering canvas">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="optimized-rendering">
                  <label>Optimised Rendering</label>
                  <span class="setting-description">Use optimised canvas rendering for better performance (may cause
                    visual glitches)</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="optimized-rendering">
                  <label for="optimized-rendering" class="toggle-label"></label>
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="hardware acceleration gpu rendering">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="hardware-acceleration">
                  <label>Hardware Acceleration</label>
                  <span class="setting-description">Enable GPU-accelerated rendering (may improve performance on some
                    systems)</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="hardware-acceleration">
                  <label for="hardware-acceleration" class="toggle-label"></label>
                </div>
              </div>
            </div>

            <div class="setting-item" data-keywords="snap align magnetic object guide">
              <div class="setting-row">
                <div class="setting-label-wrapper" data-toggle-for="snap-to-objects-enabled">
                  <label>Snap to Objects</label>
                  <span class="setting-description">Align elements to other objects when dragging or resizing</span>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="snap-to-objects-enabled" checked>
                  <label for="snap-to-objects-enabled" class="toggle-label"></label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-section" data-section="reset" data-category="reset">
          <div class="section-content">
            <div class="reset-buttons-group">
              <div class="reset-section" data-keywords="reset default restore">
                <button id="reset-everything-btn" class="reset-everything-btn">
                  <span class="material-symbols-outlined">restart_alt</span>
                  <span>Reset Everything</span>
                </button>
                <p class="reset-description">Reset all settings to their default values</p>
              </div>
              <div class="reset-section" data-keywords="onboarding welcome tutorial">
                <button id="show-onboarding-btn" class="reset-everything-btn">
                  <span class="material-symbols-outlined">school</span>
                  <span>Show Onboarding</span>
                </button>
                <p class="reset-description">View the welcome tutorial and setup guide again</p>
              </div>
            </div>

            <div class="dismissed-dialogs-section" data-keywords="dialogs dismissed don't show again hidden">
              <button class="collapsible-header" id="dismissed-dialogs-toggle">
                <span class="material-symbols-outlined expand-icon">expand_more</span>
                <span>Reset "Don't Show Again" Dialogs</span>
                <span class="dismissed-count" id="dismissed-count"></span>
              </button>
              <div class="collapsible-content" id="dismissed-dialogs-content">
                <p class="dismissed-description">Dialogs you've hidden with "Don't show again" can be re-enabled here
                </p>
                <div id="dismissed-dialogs-list" class="dismissed-dialogs-list">
                  <div class="no-dismissed-dialogs">
                    <span class="material-symbols-outlined">check_circle</span>
                    <span>All dialogs are enabled</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-section" data-section="about" data-category="about">
          <div class="section-content">
            <div class="about-content">
              <span class="about-version" id="about-version">Loading...</span>
              <div class="about-buttons">
                <a href="mailto:help@creatoryogames.com" id="report-issue-btn" class="about-btn">
                  <span class="material-symbols-outlined">bug_report</span>
                  <span>Report Issue</span>
                </a>
                <button id="view-details-btn" class="about-btn">
                  <span class="material-symbols-outlined">info</span>
                  <span>View Details</span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div id="no-results" class="no-results" style="display: none;">
          <span class="material-symbols-outlined">search</span>
          <p id="no-results-message">No results found</p>
          <span class="no-results-hint">Try different keywords or check
            your spelling.</span>
        </div>
      </div>
    </div>
  </div>

  <script src="settings.js"></script>
</body>

</html>